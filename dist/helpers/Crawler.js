Object.defineProperty(exports,'__esModule',{value:true});var _xRay=require('x-ray');var _xRay2=_interopRequireDefault(_xRay);var _url=require('url');var _Upload=require('./Upload');var _Upload2=_interopRequireDefault(_Upload);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj}}var x=(0,_xRay2['default'])();var crawler=function crawler(){x('https://medium.com/dailyjs/archive/','.streamItem .postArticle',[{title:'.section-inner h3',description:'.section-inner p',url:'.postArticle-readMore .button@href',image:'figure img@src'}]).limit(process.env.FETCH_LIMIT)(function(err,result){if(err){console.log(err)}else{var posts=result.map(function(_ref){var title=_ref.title,description=_ref.description,url=_ref.url,image=_ref.image;var myUrl=new _url.URL(url);return{url:myUrl.href,title:title,description:description,image:image,host:myUrl.hostname,path:myUrl.pathname}});(0,_Upload2['default'])(posts)}})};exports['default']=crawler;